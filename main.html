<!DOCTYPE html>
<html>
<head>
<title>Vennt App</title>
<style>
	body {
	  background-color: white;
	}
	h1 {
	  color: black;
	}
	p {
	  color: black;
	}
	
	.button {
		background-color: #c6dcff;
		width: 100px;
		height: 100px:
		border-radius: 25%;
		float: left;
		margin-right: 25px;
		font-family: "Raleway", "Garamond";
		font-size: 20px;
		font-weight: bold;
	}
	
	.page_button {
	   background-color: #5DADE2;
	   width: 130px; 
	   height: 130px; 
	   border-radius: 25%; 
	   margin-right: 50px; 
	}
	
	.pile {
	   background-color: #cd7f32;
	   width: 120px; 
	   height: 200px;
	   border-radius: 10%;
	   margin-right: 50px; 
	}
	
	.held {
	   background-color: #efd832;
	   display: flex;
	   width: 600px;
	   height: 200px;
	   border-radius: 10%;
	   margin-right: 50px; 
	   style.opacity = "0.01";
	}
	
	.card_button{
	   background-color: #efd8c2;
	   width: 120px; 
	   height: 200px;
	   border-radius: 10%;
	   margin-right: 50px; 
	}
	
	.font {
	font-family: "Raleway", "Garamond";
	}
	
	.attr {
	font-family: "Raleway", "Garamond";
	}
	
	.stat_button {
		width: 25px;
		height: 25px:
		border-radius: 10%;
		float: left;
		margin-right: 10px;
	}
	
</style>
</head>
<body>

<script type="text/javascript">
var version = "0.1.0";
</script>

<h1 class="font">Vennt App v.
	<script type="text/javascript">
	document.write(version)
	</script>
</h1>

<button id="characterButton" class="button page_button" onclick="characterClick()">Character Page</button> <!-- A mode for modifying the character and Deck  -->
<button id="battleButton"  class="button page_button"  onclick="battleClick()">Battle Page</button> <!-- A mode for simulating Battles using the Deck  -->
<button id="deckButton"  class="button pile" onclick="deckClick()">Deck</button>
<button id="discardButton" class="button pile"  onclick="discardClick()">Discard Pile</button>
<button id="flushButton" class="button pile" onclick="flushClick()">Flush Pile</button> <!-- Flush is like Exiling in MtG  -->

<div id="hand" class="held">
</div>

<!-- Stat increment/decrementers -->
<button id="agiDown" class="button stat_button" onclick="statMod('agi', -1)">-</button> 
<button id="agiUp" class="button stat_button" onclick="statMod('agi', 1)">+</button> 
<p id= "agiStat" class="attr"> AGI: 0</p>
<button id="dexDown" class="button stat_button" onclick="statMod('dex', -1)">-</button> 
<button id="dexUp" class="button stat_button" onclick="statMod('dex', 1)">+</button> 
<p id= "dexStat" class="attr"> DEX: 0</p>
<button id="forDown" class="button stat_button" onclick="statMod('for', -1)">-</button> 
<button id="forUp" class="button stat_button" onclick="statMod('for', 1)">+</button> 
<p id= "forStat" class="attr"> FOR: 0</p>
<button id="intDown" class="button stat_button" onclick="statMod('int', -1)">-</button> 
<button id="intUp" class="button stat_button" onclick="statMod('int', 1)">+</button> 
<p id= "intStat" class="attr"> INT: 0</p>
<button id="perDown" class="button stat_button" onclick="statMod('per', -1)">-</button> 
<button id="perUp" class="button stat_button" onclick="statMod('per', 1)">+</button> 
<p id= "perStat" class="attr"> PER: 0</p>
<button id="spiDown" class="button stat_button" onclick="statMod('spi', -1)">-</button> 
<button id="spiUp" class="button stat_button" onclick="statMod('spi', 1)">+</button> 
<p id= "spiStat" class="attr"> SPI: 0</p>
<button id="staDown" class="button stat_button" onclick="statMod('sta', -1)">-</button> 
<button id="staUp" class="button stat_button" onclick="statMod('sta', 1)">+</button> 
<p id= "staStat" class="attr"> STA: 0</p>
<button id="strDown" class="button stat_button" onclick="statMod('str', -1)">-</button> 
<button id="strUp" class="button stat_button" onclick="statMod('str', 1)">+</button> 
<p id= "strStat" class="attr"> STR: 0</p>
<button id="wisDown" class="button stat_button" onclick="statMod('wis', -1)">-</button> 
<button id="wisUp" class="button stat_button" onclick="statMod('wis', 1)">+</button> 
<p id= "wisStat" class="attr"> WIS: 0</p>






<script type="text/javascript">
function updatePiles(){
/* TODO:
     - whenever a button is clicked, call this function
	 - update Deck, Discard, and Flush piles to show the count of how many cards are in each pile
	 - Example: Deck (12), Discard (4), Flush (0) */
	 
	null;
}

function characterClick(){ /*Load character page*/
document.getElementById("characterButton").style.display = "none";
document.getElementById("battleButton").style.display = "block";
document.getElementById("deckButton").style.display = "none";
document.getElementById("discardButton").style.display = "none";
document.getElementById("flushButton").style.display = "none";
toggle_visibility_by_class("stat_button", "block");
toggle_visibility_by_class("attr", "block");
toggle_visibility_by_class("held", "none");
}


function battleClick(){  /*Load battle page*/
document.getElementById("battleButton").style.display = "none";
document.getElementById("characterButton").style.display = "block";
document.getElementById("deckButton").style.display = "block";
document.getElementById("discardButton").style.display = "block";
document.getElementById("flushButton").style.display = "block";
toggle_visibility_by_class("stat_button", "none");
toggle_visibility_by_class("attr", "none");
toggle_visibility_by_class("held", "inline-block");
character.currentDeck = character.deck; /* Reset deck, will eventually want to change this logic */
}



function toggle_visibility_by_class(cl, state){ /* state is usually none or block */
 var divs = document.getElementsByClassName(cl);
    for(var i = 0; i < divs.length; i++){
        divs[i].style.display = state;
    }
}

function deckClick(){
/* TODO */
	if (character.currentDeck.length > 0) {
		card = character.currentDeck.pop();
		var button = document.createElement("button");
		button.classList.add("button");
		button.classList.add("card_button");
		button.onclick = "";
		button.innerHTML = card.name;
		button.style.display = "block";
		hand = document.getElementById("hand");
		hand.appendChild(button);
		console.log(button);
		console.log(hand);
	}
}

function discardClick(){
/* TODO */
	null;
}

function flushClick(){
/* TODO */
	null;
}

function statMod(param, delta){
  /* TODO */
	character.stats[param] += delta; 
	eleName = param + "Stat"
	document.getElementById(eleName).innerHTML = param.toUpperCase() + ": " + character.stats[param]
}

class Path {
	constructor(name, requirements) {
		this.name = name;
		this.requirements = requirements;
	}
}

class Card {
	constructor(name, path, types, effect) {
		this.name = name;
		this.path = path;
		this.types = types;
		this.effect = effect;
	}
}
	
class Character{
	/* Eventually, will also contain Decks, or sets of Cards */
	constructor(name){
		this.name = name;
		this.stats = {};
		this.stats["agi"] = 0;
		this.stats["dex"] = 0;
		this.stats["for"] = 0;
		this.stats["int"] = 0;
		this.stats["per"] = 0;
		this.stats["spi"] = 0;
		this.stats["sta"] = 0;
		this.stats["str"] = 0;
		this.stats["wis"] = 0;
		this.deck = []
		this.currentDeck = []
		this.discard = []
		this.flush = []
	}
}

/* INIT */
 /* Init Deck, Discard, Flush */
var deckPile = [];
var discardPile = [];
var flushPile = [];
var character = new Character("New Character", 0,0,0,0,0,0,0,0,0);
/* populate testing deck */
character.deck.push(new Card("Test Card A", "Beginner", ["Basic", "Melee"], "This card does A"));
character.deck.push(new Card("Test Card B", "Red", ["Vigor", "Ranged"], "This card does B"));
character.deck.push(new Card("Test Card C", "Blue", ["Mental"], "This card does C"));
 /* Go to the Battle page on startup */
battleClick()
</script>

</body>
</html>